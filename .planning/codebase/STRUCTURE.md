# Codebase Structure

**Analysis Date:** 2026-02-08

## Directory Layout

```
quiz/
├── public/                 # Static HTML and manifest files
│   ├── index.html         # Main entry point - React mounts here
│   ├── favicon.ico        # App favicon
│   ├── manifest.json      # PWA metadata
│   ├── logo192.png        # App icon small
│   ├── logo512.png        # App icon large
│   └── robots.txt         # SEO configuration
│
├── src/                   # All application source code
│   ├── index.js          # React root initialization, providers setup
│   ├── index.css         # Global styles (fonts, body defaults, user selection)
│   ├── App.js            # Main app component with routing and global keyboard handlers
│   ├── App.css           # App-level styles (gradient background, cursor hiding)
│   │
│   ├── components/       # Reusable UI components
│   │   ├── IconButton.js     # Generic button with icon, title, done/active states
│   │   ├── IconButton.css    # Icon button styling
│   │   ├── Score.js          # Team score display and name input
│   │   └── Score.css         # Score component styling
│   │
│   ├── screens/          # Full-screen page components
│   │   ├── Home.js           # Main menu with 7 quiz type selections
│   │   ├── Home.css          # Home screen layout
│   │   ├── Windows.js        # Category selector (5 knowledge domains)
│   │   ├── Windows.css       # Windows screen layout
│   │   ├── QuestionPicker.js # Select individual question from category
│   │   ├── QuestionPicker.css
│   │   ├── Question.js       # Main quiz interface - displays questions, timers, scores
│   │   ├── Question.css      # Question layout and timer styling
│   │   ├── Rate.js           # Score input screen (judge/guest/audience ratings)
│   │   ├── Rate.css          # Rate form styling
│   │   ├── Set.js            # Team score manual adjustment (unused on main flow)
│   │   └── Set.css           # Set styling
│   │
│   ├── contexts/         # React Context providers
│   │   ├── Global.js         # Quiz state context with scores, turn, questions, flags
│   │   └── index.js          # Context exports
│   │
│   ├── config/           # Static configuration data
│   │   ├── data.json         # Primary quiz database (current)
│   │   ├── data-1.json       # Alternative quiz sets (backup/variants)
│   │   ├── data-2.json
│   │   ├── data-3.json
│   │   ├── data-4.json
│   │   ├── data-5.json
│   │   ├── data-6.json
│   │   ├── data-7.json
│   │   ├── data-8.json
│   │   └── data-old.json     # Legacy data format
│   │
│   └── assets/           # Media files (images, audio, video)
│       ├── *.png         # Question visuals (animals.png, actors.png, etc.)
│       ├── *.mp4         # Videos (gar.mp4, omar.mp4, six.mp4, etc.)
│       ├── *.mp3         # Sound effects (boom.mp3, correct.mp3, wrong.mp3, etc.)
│       └── *.wav         # Sound effects (tick.wav, whoosh.wav, etc.)
│
├── node_modules/         # Dependencies (generated by npm)
├── package.json          # Project metadata and dependencies
├── package-lock.json     # Locked dependency versions
└── .git/                 # Git repository (not committed to build)
```

## Directory Purposes

**`src/`:**
- Purpose: All React application source code
- Contains: Components, screens, state management, styles, data, assets
- Key files: `index.js` (entry), `App.js` (root routing), `contexts/Global.js` (state)

**`src/components/`:**
- Purpose: Reusable UI building blocks
- Contains: Small functional components used across multiple screens
- Key files: `IconButton.js` (button primitive), `Score.js` (score display)
- Pattern: Each component in separate file with paired .css file

**`src/screens/`:**
- Purpose: Full-screen page components representing distinct app views
- Contains: Navigation, keyboard handling, complex layouts
- Key files: `Home.js` (main menu), `Question.js` (quiz engine), `Rate.js` (scoring), `Windows.js` (category picker)

**`src/contexts/`:**
- Purpose: React Context setup for global state
- Contains: `GlobalContextProvider`, `useGlobalContext()` hook, context shape definition
- Key files: `Global.js` (main context), `index.js` (barrel export)

**`src/config/`:**
- Purpose: Static quiz data and configuration
- Contains: JSON files with questions, answers, durations, team names
- Key files: `data.json` (active dataset), `data-[1-8].json` (alternatives)
- Structure: Each JSON has `leftTeamName`, `rightTeamName`, `parts` object with quiz categories

**`src/assets/`:**
- Purpose: Static media files referenced by quiz questions
- Contains: PNG/JPG images, MP3 audio files, WAV sound effects, MP4 videos
- Pattern: Files imported dynamically in Question.js using `import()` based on question data
- Large files: animals.png (12MB), marvel.png (10MB), six.mp4 (5MB), omar.mp4 (6.5MB)

**`public/`:**
- Purpose: Static HTML shell and PWA metadata
- Contains: `index.html` (React mount point), icons, manifest
- Key files: `index.html` (defines `<div id="root">`), `manifest.json` (app metadata)

## Key File Locations

**Entry Points:**
- `public/index.html`: HTML shell, defines root div
- `src/index.js`: React root initialization, provider setup
- `src/App.js`: Routing definition, global listeners

**Configuration:**
- `src/config/data.json`: Quiz questions, answers, durations, team names
- `package.json`: Scripts and dependencies

**Core Logic:**
- `src/contexts/Global.js`: State shape, provider component, context hook
- `src/App.js`: Route configuration, keyboard shortcuts (Escape, 'c', 's')
- `src/screens/Question.js`: Quiz engine - timer, scoring logic, keyboard handlers

**Quiz Screens:**
- `src/screens/Home.js`: Main menu, quiz type selection
- `src/screens/Windows.js`: Knowledge domain selection (5 categories)
- `src/screens/QuestionPicker.js`: Individual question selection within category
- `src/screens/Question.js`: Question display and answer recording
- `src/screens/Rate.js`: Judge/guest/audience score input

**Reusable Components:**
- `src/components/IconButton.js`: Button primitive with icon support
- `src/components/Score.js`: Team score display widget

**Styling:**
- `src/index.css`: Global styles (fonts, body layout)
- Individual component CSS files paired with .js files (e.g., `Question.css` with `Question.js`)

**Testing:**
- Not found - no test files or test infrastructure detected

## Naming Conventions

**Files:**
- PascalCase for React components: `Home.js`, `IconButton.js`, `GlobalContextProvider` in `Global.js`
- lowercase for utilities and context files: `index.js`, `data.json`
- .css files paired with .js files: `Question.js` → `Question.css`

**Directories:**
- lowercase plural: `src/screens/`, `src/components/`, `src/contexts/`, `src/config/`, `src/assets/`

**Components:**
- Exported as default: `export default function Home() { }`
- Named with context prefix for custom hooks: `useGlobalContext()`
- Context and provider follow React standards: `MyContext` + `GlobalContextProvider`

**Routes:**
- Lowercase with forward slashes: `/`, `/windows`, `/questionpicker/:id`, `/question/:type/:id/:index`, `/rate/:type`
- Dynamic segments use colons: `:id`, `:type`, `:index`

**CSS Classes:**
- BEM-inspired: `ComponentName`, `ComponentName-element`, `ComponentName-element-modifier`
- Examples: `Score-score-turn`, `IconButton-active`, `Question-timer-container-complete`

**Variables:**
- camelCase for state and props: `rightScore`, `leftScore`, `rightsTurn`, `quickQuestion`
- Boolean flags with `is` or `set` prefix: `isPlaying`, `isDone`, `setHideCursor`
- Uppercase constants: `ICON_SIZE = "35rem"`, `FONT_SIZE = "5rem"`

## Where to Add New Code

**New Quiz Question Type:**
1. Add question definition to appropriate category in `src/config/data.json`
2. If using timer: Define `duration` field
3. If using media: Add `file` and `isImage` fields
4. If needing scoring: Add `marks` field
5. Add handling logic in `src/screens/Question.js` keyboard handler (lines 114-256)

**New Screen/Page:**
1. Create file in `src/screens/ScreenName.js`
2. Create paired `src/screens/ScreenName.css` for styling
3. Add route in `src/App.js` Routes block (lines 43-51)
4. Use `useNavigate()` to link to new route
5. Import `useGlobalContext()` to access state

**New Reusable Component:**
1. Create file in `src/components/ComponentName.js`
2. Create paired `src/components/ComponentName.css`
3. Export as default functional component
4. Import and use in screens as needed

**New Keyboard Shortcut:**
- App-level globals: Add to `src/App.js` handleKeyDown (lines 15-34)
- Screen-specific: Add to respective screen component's keyboard handler

**New State in Global Context:**
1. Add state declaration in `src/contexts/Global.js` (lines 24-30)
2. Add setter and value to context object (lines 32-47)
3. Import `useGlobalContext()` in components needing access

**Shared Utilities/Helpers:**
- Helper functions: Create in component file or dedicated `src/utils/helpers.js`
- No utility directory currently exists - create if needed for shared logic

**New Media Assets:**
1. Add file to `src/assets/` (supports .png, .jpg, .mp4, .mp3, .wav)
2. Reference in question data with `file` field in `src/config/data.json`
3. Dynamic import handled automatically by Question.js

## Special Directories

**`src/assets/`:**
- Purpose: Static media referenced by quiz questions
- Generated: No - manually added files
- Committed: Yes - all assets tracked in git
- Note: Contains large files (10-14MB images, 5-6MB videos)

**`src/config/`:**
- Purpose: Quiz data files
- Generated: No - manually created JSON files
- Committed: Yes - all data files in git
- Note: Multiple versions (data-1 through data-8) available for switching quiz sets

**`public/`:**
- Purpose: Static files served at app root
- Generated: No - manually created
- Committed: Yes - committed to repo
- Build process: Copied to `build/` directory during `npm run build`

**`node_modules/`:**
- Purpose: Dependencies
- Generated: Yes - created by `npm install`
- Committed: No - excluded by `.gitignore`
- Created from: `package.json` and `package-lock.json`

---

*Structure analysis: 2026-02-08*
